{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-9343d6b4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"friends\"\n};\nconst _hoisted_2 = {\n  class: \"friend-list\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  class: \"friend\"\n};\nconst _hoisted_5 = {\n  class: \"friend-name\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"no-friends\"\n};\nconst _hoisted_7 = {\n  class: \"chat\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$setup.friends.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.friends, (friend, key) => {\n    return _openBlock(), _createBlock(_component_router_link, {\n      key: key,\n      to: `/privatechat/${friend.id}`\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(friend.name), 1 /* TEXT */)])]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"- 当前没有好友 -\"))]), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$setup","friends","length","_hoisted_3","_Fragment","_renderList","friend","key","_createBlock","_component_router_link","to","id","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","_hoisted_7","_createVNode","_component_router_view"],"sources":["/Users/lynneu/Documents/GitHub/im-frontend/src/views/conversations.vue"],"sourcesContent":["<template>\n    <div class=\"friends\">\n      <div class=\"friend-list\">\n        <div v-if=\"friends.length\">\n          <router-link v-for=\"(friend, key) in friends\" :key=\"key\" :to=\"`/privatechat/${friend.id}`\">\n            <div class=\"friend\">\n              <div class=\"friend-name\">{{ friend.name }}</div>\n            </div>\n          </router-link>\n        </div>\n        <div v-else class=\"no-friends\">- 当前没有好友 -</div>\n      </div>\n      <div class=\"chat\">\n        <router-view/>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, onMounted } from 'vue'\n  import axios from 'axios'\n  \n  export default {\n    name: 'userFriends',\n    setup() {\n      const friends = ref([])\n  \n      const fetchFriends = async () => {\n        const userId = JSON.parse(localStorage.getItem('user')).id\n        const response = await axios.get(`http://localhost:8000/users/${userId}/friends`)\n        friends.value = response.data\n      }\n  \n      onMounted(fetchFriends)\n  \n      return {\n        friends,\n      }\n    },\n  }\n  </script>\n  \n  \n  <style scoped>\n  .friends {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    display: flex;\n    color: #333333;\n  }\n\n  .friend-list {\n    width: 220px;\n  }\n\n  .friend-list-container {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: white;\n    border-right: #dbd6d6 1px solid;\n  }\n\n  .friend-list-content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 10px 0;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n  }\n\n  .friend-list-content::-webkit-scrollbar {\n    display: none;\n  }\n\n  .no-friend {\n    text-align: center;\n    color: #666666;\n  }\n\n  .friend {\n    display: flex;\n    padding: 10px 5px;\n    cursor: pointer;\n  }\n\n  .unread-count {\n    position: absolute;\n    top: -10px;\n    left: 30px;\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    color: white;\n    background: #d02129;\n  }\n\n  .unread-count .unread {\n    display: block;\n    font-size: 12px;\n    text-align: center;\n    line-height: 18px;\n  }\n\n  .friend-message {\n    flex: 1;\n    padding-left: 5px;\n    display: flex;\n    width: 160px;\n    flex-direction: column;\n    justify-content: space-around;\n  }\n\n  .friend-top {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    text-align: right;\n  }\n\n  .friend-name {\n    font-size: 12px;\n    font-weight: 500;\n  }\n\n  .friend-time {\n    width: 75px;\n    color: #B9B9B9;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .friend-bottom {\n    display: flex;\n    color: #666666;\n  }\n\n  .friend-content {\n    display: flex;\n    width: 160px;\n    color: #b3b3b3;\n  }\n\n  .friend-content .text {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1;\n    white-space: nowrap;\n    word-break: break-all;\n  }\n\n  .friend-bottom .unread-text {\n    color: #d02129;\n    width: 35px !important;\n  }\n\n  .friend .avatar {\n    width: 40px;\n    height: 40px;\n    position: relative;\n  }\n\n  .conversation .avatar img {\n    width: 100%;\n    border-radius: 10%;\n  }\n\n  .router-link-active {\n    background: #eeeeee;\n  }\n\n  .action-box {\n    width: 100px;\n    height: 60px;\n    background: #ffffff;\n    border: 1px solid #cccccc;\n    position: fixed;\n    z-index: 100;\n    border-radius: 5px;\n  }\n\n  .action-box .action-item {\n    padding-left: 15px;\n    line-height: 30px;\n    font-size: 13px;\n    color: #262628;\n    cursor: pointer;\n  }\n\n  .action-box .action-item:hover {\n    background: #dddddd;\n  }\n\n  .chat {\n    flex: 1;\n    display: flex;\n  }\n\n</style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAa;;;;;EAGbA,KAAK,EAAC;AAAQ;;EACZA,KAAK,EAAC;AAAa;;;EAIlBA,KAAK,EAAC;;;EAEfA,KAAK,EAAC;AAAM;;;;uBAXnBC,mBAAA,CAcM,OAdNC,UAcM,GAbJC,mBAAA,CASM,OATNC,UASM,GAROC,MAAA,CAAAC,OAAO,CAACC,MAAM,I,cAAzBN,mBAAA,CAMM,OAAAO,UAAA,I,kBALJP,mBAAA,CAIcQ,SAAA,QAAAC,WAAA,CAJuBL,MAAA,CAAAC,OAAO,GAAvBK,MAAM,EAAEC,GAAG;yBAAhCC,YAAA,CAIcC,sBAAA;MAJiCF,GAAG,EAAEA,GAAG;MAAGG,EAAE,kBAAkBJ,MAAM,CAACK,EAAE;;wBACrF,MAEM,CAFNb,mBAAA,CAEM,OAFNc,UAEM,GADJd,mBAAA,CAAgD,OAAhDe,UAAgD,EAAAC,gBAAA,CAApBR,MAAM,CAACS,IAAI,iB;;;;qDAI7CnB,mBAAA,CAA+C,OAA/CoB,UAA+C,EAAhB,YAAU,G,GAE3ClB,mBAAA,CAEM,OAFNmB,UAEM,GADJC,YAAA,CAAcC,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}